{% comment %}
  Header navigation with logo, menu, search, and cart
{% endcomment %}

<header class="header" data-section-id="{{ section.id }}" data-section-type="header">
  <div class="header-container">
    <a href="/" class="header-logo">
      {%- if settings.logo != blank -%}
        <img src="{{ settings.logo | image_url: width: 200 }}" alt="{{ shop.name }}" width="200" height="auto">
      {%- else -%}
        MASON CREST
      {%- endif -%}
    </a>

    <nav class="header-nav">
      <a href="/">{{ section.settings.menu_home | default: 'Home' }}</a>
      <a href="{{ pages.about-us.url }}">About</a>
      <a href="{{ pages.faqs.url }}">FAQs</a>
      <a href="{{ pages.shipping.url }}">Shipping</a>
      <a href="{{ pages.contact-us.url }}">Contact</a>

      <div class="dropdown">
        <a href="#" class="dropdown-toggle">Policies</a>
        <div class="dropdown-content">
          <a href="{{ pages.privacy-policy.url }}">Privacy Policy</a>
          <a href="{{ pages.terms-of-service.url }}">Terms of Service</a>
          <a href="{{ pages.refund-policy.url }}">Refund Policy</a>
        </div>
      </div>
    </nav>

    <div class="header-icons">
      <a href="{{ routes.account_url }}" class="header-icon" aria-label="Account">
        <img src="{{ 'icon-account.svg' | asset_url }}" alt="Account" width="20" height="20" style="filter: brightness(0) invert(1);">
      </a>
      <a href="{{ routes.cart_url }}" class="header-icon cart-trigger" aria-label="Cart">
        <img src="{{ 'icon-cart.svg' | asset_url }}" alt="Cart" width="20" height="20">
        <span class="cart-count" data-cart-count>{{ cart.item_count }}</span>
      </a>
      <button class="mobile-menu-toggle header-icon" aria-label="Menu">
        <img src="{{ 'icon-menu.svg' | asset_url }}" alt="Menu" width="24" height="24">
      </button>
    </div>
  </div>
</header>

<div class="mobile-menu-overlay"></div>
<div class="mobile-menu">
  <div class="mobile-menu-header">
    <div class="header-logo">
      {%- if settings.logo != blank -%}
        <img src="{{ settings.logo | image_url: width: 150 }}" alt="{{ shop.name }}" width="150" height="auto">
      {%- else -%}
        MC
      {%- endif -%}
    </div>
    <button class="mobile-menu-close">
      <img src="{{ 'icon-close.svg' | asset_url }}" alt="Close" width="24" height="24">
    </button>
  </div>
  <ul class="mobile-menu-links">
    <li><a href="/">{{ section.settings.menu_home | default: 'Home' }}</a></li>
    <li><a href="{{ pages.about-us.url }}">About</a></li>
    <li><a href="{{ pages.faqs.url }}">FAQs</a></li>
    <li><a href="{{ pages.shipping.url }}">Shipping</a></li>
    <li><a href="{{ pages.contact-us.url }}">Contact</a></li>
    <li>
      <strong>Policies</strong>
      <ul style="margin-top: 1rem; padding-left: 1rem;">
        <li style="margin-bottom: 0.8rem;">
          <a href="{{ pages.privacy-policy.url }}" style="font-size: 0.95rem; text-transform: none;">Privacy Policy</a>
        </li>
        <li style="margin-bottom: 0.8rem;">
          <a href="{{ pages.terms-of-service.url }}" style="font-size: 0.95rem; text-transform: none;">Terms of Service</a>
        </li>
        <li style="margin-bottom: 0.8rem;">
          <a href="{{ pages.refund-policy.url }}" style="font-size: 0.95rem; text-transform: none;">Refund Policy</a>
        </li>
      </ul>
    </li>
    <li style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.1);">
      <a href="{{ routes.account_url }}">My Account</a>
    </li>
    <li>
      <a href="{{ routes.cart_url }}">Cart ({{ cart.item_count }})</a>
    </li>
  </ul>
</div>

<style>
  .cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: var(--color-white);
    color: var(--color-black);
    border-radius: 50%;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 600;
  }

  .header-icon {
    position: relative;
  }
</style>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "text",
      "id": "menu_home",
      "label": "Home Menu Text",
      "default": "Home"
    },
    {
      "type": "text",
      "id": "menu_shop",
      "label": "Shop Menu Text",
      "default": "Shop"
    },
    {
      "type": "text",
      "id": "menu_categories",
      "label": "Categories Menu Text",
      "default": "Categories"
    },
    {
      "type": "text",
      "id": "menu_about",
      "label": "About Menu Text",
      "default": "About"
    },
    {
      "type": "text",
      "id": "menu_contact",
      "label": "Contact Menu Text",
      "default": "Contact"
    },
    {
      "type": "text",
      "id": "search_placeholder",
      "label": "Search Placeholder Text",
      "default": "Search for products..."
    },
    {
      "type": "text",
      "id": "menu_cart",
      "label": "Cart Menu Text",
      "default": "Cart"
    }
  ]
}
{% endschema %}
